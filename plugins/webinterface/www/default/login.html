<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>KTorrent  WebInterface - Login</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" />

<script type="text/javascript" src="sha1.js"></script>
<script type="text/javascript">
	var was_focused = false;
	function try_focus_form()
	{
		if (!was_focused)
		{
		document.forms["loginForm"].elements["username"].focus();
		was_focused = true;
		}
	}
	
	function encryptPwd()
	{
		var usernameField = document.getElementById("username");
		var pwdField = document.getElementById("password");
		var challengeField = document.getElementById("challenge");
		var sha = hex_sha1(challengeField.value + pwdField.value);
		pwdField.value = '';
		challengeField.value = sha;
		return true;
	}
</script>
</head>
<body onload="try_focus_form();">
	<div id="container">
		<div id="header">
			<div id="logoWrapper">
				<div id="logo"><a href="/" title="Home"><img src="icon.png" alt="Home" /></a></div>
				<div id="siteName"><a href="/" title="Home">KTorrent Web Interface</a></div>                  
			</div>
		</div>
		
		<div id="content">
			<form id="loginForm" action="interface.php" method="post" onsubmit="encryptPwd();">
				<table>
				<tr><td>Username:</td><td><input type="text" name="username" id="username" onfocus="was_focused = true;" /></td></tr>
				<tr><td>Password:</td><td><input type="password" name="password" id="password" /></td></tr>
				<tr><td></td><td><input type="submit" value="Login" /></td></tr>
				</table>
				<input type="hidden" name="challenge" id="challenge" value="$CHALLENGE" />
			</form>
		</div>
	</div>
	<div id="footer">&#169; 2006-2008 KTorrent WebInterface Plugin</div>
</body>
</html>
